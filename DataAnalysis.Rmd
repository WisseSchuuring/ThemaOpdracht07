---
title: "DataAnalysis"
author: "Wisse Schuuring"
date: "2/15/2022"
output: html_document
---

```{r setup, include=FALSE}

library(ggplot2)
library(dplyr)
library(xtable)


```

## R Markdown




```{r}

sample_1_p <- read.csv(file = "Data/Samples/Reformat/GSM3733674_1_p.csv", header=T)
sample_4_p <- read.csv(file = "Data/Samples/Reformat/GSM3733677_4_p.csv", header=T)
sample_5_p <- read.csv(file = "Data/Samples/Reformat/GSM3733678_5_p.csv", header=T)

sample_2_KO <- read.csv(file = "Data/Samples/Reformat/GSM3733675_2_KO.csv", header=T)
sample_3_KO <- read.csv(file = "Data/Samples/Reformat/GSM3733676_3_KO.csv", header=T)
sample_6_KO <- read.csv(file = "Data/Samples/Reformat/GSM3733679_6_KO.csv", header=T)

s1p <- sample_1_p[c("ID_REF", "count")]
s4p <- sample_4_p[c("ID_REF", "count")]
s5p <- sample_5_p[c("ID_REF", "count")]

s2k <- sample_2_KO[c("ID_REF", "count")]
s3k <- sample_3_KO[c("ID_REF", "count")]
s6k <- sample_6_KO[c("ID_REF", "count")]
```

Read in the files and removed the unnecessary value value, for the only ones of interest are the id and the counts value.

```{r}

# first_merge <- merge(s1p, s2k, by="ID_REF")
# names(first_merge)[2] <- "counts_1_p"
# names(first_merge)[3] <- "counts_2_KO"
# 
# second_merge <- merge(first_merge, s4p, by="ID_REF")
# names(second_merge)[4] <- "counts_4_p"
# 
# third_merge <- merge(second_merge, s3k, by="ID_REF")
# names(third_merge)[5] <- "counts_3_KO"
# 
# fourth_merge <- merge(third_merge, s5p, by="ID_REF")
# names(fourth_merge)[6] <- "counts_5_p"
# 
# final_merge <- merge(fourth_merge, s6k, by="ID_REF")
# names(final_merge)[7] <- "counts_6_KO"

#final_merge

#write.csv(final_merge,file = 'Data/Samples/Reformat/MyData.csv', row.names=F)

```

This merges all sample files together one by one, however for comparisons sake I shall first create two separate files with a sum of the counts for the parental samples and IRF2KO samples respectively. This should make comparing the counts later easier. 

```{r}
# Merge the parental data
first_merge_parental <- merge(s1p, s4p, by="ID_REF")
final_merge_parental <- merge(first_merge_parental, s5p, by="ID_REF")
names(final_merge_parental)[2] <- c("counts_1_p")
names(final_merge_parental)[3] <- c("counts_4_p")
names(final_merge_parental)[4] <- c("counts_5_p")
final_merge_parental$counts_total_p <- rowSums(final_merge_parental[2:4])
final_merge_parental

# Merge the IRF2KO data
first_merge_IRF2KO <- merge(s2k, s3k, by="ID_REF")
final_merge_IRF2KO <- merge(first_merge_parental, s6k, by="ID_REF")
names(final_merge_IRF2KO)[2] <- c("counts_1_KO")
names(final_merge_IRF2KO)[3] <- c("counts_4_KO")
names(final_merge_IRF2KO)[4] <- c("counts_5_KO")
final_merge_IRF2KO$counts_total_KO <- rowSums(final_merge_IRF2KO[2:4])
final_merge_IRF2KO

# Merge both datasets into a completed dataset
MyData <- merge(final_merge_IRF2KO, final_merge_parental, by="ID_REF")
MyData
```